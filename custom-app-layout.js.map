{"version":3,"file":"custom-app-layout.js","sources":["node_modules/backed/mixins/lit-mixin.min.js","node_modules/backed/mixins/property-mixin.min.js","src/custom-app-layout.js"],"sourcesContent":["function html(e,...t){let s=templates.get(e);return void 0===s&&(s=new Template(e),templates.set(e,s)),new TemplateResult(s,t)}function render(e,t){let s=t.__templateInstance;if(void 0!==s&&s.template===e.template&&s instanceof TemplateInstance)return void s.update(e.values);s=new TemplateInstance(e.template),t.__templateInstance=s;const n=s._clone();for(s.update(e.values);t.firstChild;)t.removeChild(t.firstChild);t.appendChild(n)}const templates=new Map;class TemplateResult{constructor(e,t){this.template=e,this.values=t}}const exprMarker=\"{{}}\";class TemplatePart{constructor(e,t,s,n,r){this.type=e,this.index=t,this.name=s,this.rawName=n,this.strings=r}}class Template{constructor(e){this.parts=[],this._strings=e,this._parse()}_parse(){this.element=document.createElement(\"template\"),this.element.innerHTML=this._getTemplateHtml(this._strings);const e=document.createTreeWalker(this.element.content,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);let t=-1,s=0;const n=[],r=[];for(;e.nextNode();){t++;const i=e.currentNode;if(i.nodeType===Node.ELEMENT_NODE){const e=i.attributes;for(let n=0;n<e.length;n++){const i=e.item(n),o=i.value.split(exprMarker);if(o.length>1){const e=this._strings[s],n=e.substring(0,e.length-o[0].length).match(/((?:\\w|[.\\-_$])+)=[\"']?$/)[1];this.parts.push(new TemplatePart(\"attribute\",t,i.name,n,o)),r.push(i),s+=o.length-1}}}else if(i.nodeType===Node.TEXT_NODE){const e=i.nodeValue.split(exprMarker);if(e.length>1){s+=e.length-1;for(let s=0;s<e.length;s++){const n=e[s],r=new Text(n);i.parentNode.insertBefore(r,i),t++,s<e.length-1&&(i.parentNode.insertBefore(new Text,i),i.parentNode.insertBefore(new Text,i),this.parts.push(new TemplatePart(\"node\",t)),t+=2)}t--,n.push(i)}else i.nodeValue.trim()||(n.push(i),t--)}}for(const e of n)e.parentNode.removeChild(e);for(const e of r)e.ownerElement.removeAttribute(e.name)}_getTemplateHtml(e){const t=[];for(let s=0;s<e.length;s++)t.push(e[s]),s<e.length-1&&t.push(exprMarker);return t.join(\"\")}}class Part{constructor(e){this.instance=e}_getValue(e){if(\"function\"==typeof e)try{e=e(this)}catch(e){return void console.error(e)}if(null!==e)return e}}class AttributePart extends Part{constructor(e,t,s,n){super(e),console.assert(t.nodeType===Node.ELEMENT_NODE),this.element=t,this.name=s,this.strings=n}setValue(e){const t=this.strings;let s=\"\";for(let n=0;n<t.length;n++)if(s+=t[n],n<t.length-1){const t=this._getValue(e[n]);if(t&&\"string\"!=typeof t&&t[Symbol.iterator])for(const e of t)s+=e;else s+=t}this.element.setAttribute(this.name,s)}get size(){return this.strings.length-1}}class NodePart extends Part{constructor(e,t,s){super(e),this.startNode=t,this.endNode=s}setValue(e){(e=this._getValue(e))instanceof Node?this._previousValue=this._setNodeValue(e):e instanceof TemplateResult?this._previousValue=this._setTemplateResultValue(e):e&&void 0!==e.then?(e.then(t=>{this._previousValue===e&&this.setValue(t)}),this._previousValue=e):e&&\"string\"!=typeof e&&e[Symbol.iterator]?this._previousValue=this._setIterableValue(e):this.startNode.nextSibling===this.endNode.previousSibling&&this.startNode.nextSibling.nodeType===Node.TEXT_NODE?(this.startNode.nextSibling.textContent=e,this._previousValue=e):this._previousValue=this._setTextValue(e)}_insertNodeBeforeEndNode(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_setNodeValue(e){return this.clear(),this._insertNodeBeforeEndNode(e),e}_setTextValue(e){return this._setNodeValue(new Text(e))}_setTemplateResultValue(e){let t;return this._previousValue&&this._previousValue._template===e.template?t=this._previousValue:(t=this.instance._createInstance(e.template),this._setNodeValue(t._clone())),t.update(e.values),t}_setIterableValue(e){let t,s=this.startNode;const n=e[Symbol.iterator](),r=Array.isArray(this._previousValue)?this._previousValue:void 0;let i=0;const o=[];let a=n.next(),l=n.next();for(a.done&&this.clear();!a.done;){let e;void 0!==r&&i<r.length?(e=r[i++],l.done&&e.endNode!==this.endNode&&(this.clear(e.endNode.previousSibling),e.endNode=this.endNode),t=e.endNode):(l.done?t=this.endNode:(t=new Text,this._insertNodeBeforeEndNode(t)),e=new NodePart(this.instance,s,t)),e.setValue(a.value),o.push(e),a=l,l=n.next(),s=t}return o}clear(e=this.startNode){this._previousValue=void 0;let t=e.nextSibling;for(;null!==t&&t!==this.endNode;){let e=t.nextSibling;t.parentNode.removeChild(t),t=e}}}class TemplateInstance{constructor(e){this._parts=[],this._template=e}get template(){return this._template}update(e){let t=0;for(const s of this._parts)void 0===s.size?s.setValue(e[t++]):(s.setValue(e.slice(t,t+s.size)),t+=s.size)}_clone(){const e=document.importNode(this._template.element.content,!0);if(this._template.parts.length>0){const t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),s=this._template.parts;let n=0,r=0,i=s[0],o=t.nextNode();for(;null!=o&&r<s.length;)n===i.index?(this._parts.push(this._createPart(i,o)),i=s[++r]):(n++,o=t.nextNode())}return e}_createPart(e,t){if(\"attribute\"===e.type)return new AttributePart(this,t,e.name,e.strings);if(\"node\"===e.type)return new NodePart(this,t,t.nextSibling);throw new Error(`unknown part type: ${e.type}`)}_createInstance(e){return new TemplateInstance(e)}}window.html=window.html||html,window.Backed=window.Backed||{},window.Backed.Renderer=window.Backed.Renderer||render;var litMixin=e=>class t extends e{get propertyStore(){return window.Backed.PropertyStore}constructor(e={}){if(super(e),this.attachShadow({mode:\"open\"}),!this._isValidRenderer(this.render))throw\"Invalid renderer!\";if(!this.render)throw\"Missing render method!\";render(this.render(),this.shadowRoot)}_isValidRenderer(e){if(e)return String(e).includes(\"return html`\")}};export default litMixin;","window.Backed=window.Backed||{},window.Backed.PropertyStore=window.Backed.PropertyStore||new Map;const render=window.Backed.Renderer;var propertyMixin=e=>class r extends e{constructor(e={}){super(e),this.properties=e.properties}connectedCallback(){if(this.properties)for(const e of Object.entries(this.properties)){const{observer:r,reflect:t,renderer:i}=e[1];(r||t||i)&&(i&&!render&&console.warn(\"Renderer undefined\"),this.defineProperty(e[0],e[1]))}}defineProperty(e=null,{strict:r=!1,observer:t,reflect:i=!1,renderer:n,value:s}){Object.defineProperty(this,e,{set(r){r!==this[`___${e}`]&&(this[`___${e}`]=r,i&&(r?this.setAttributte(e,String(r)):this.removeAttribute(e)),t&&(t in this?this[t]():console.warn(`observer::${t} undefined`)),n&&(n in this?render(this[n](),this.shadowRoot):console.warn(`renderer::${n} undefined`)))},get(){return this[`___${e}`]},configurable:!r});const o=this.getAttribute(e);this[e]=o||this.hasAttribute(e)||s}};export default propertyMixin;","import LitMixin from './../node_modules/backed/mixins/lit-mixin.min.js';\r\nimport PropertyMixin from './../node_modules/backed/mixins/property-mixin.min.js';\r\n\r\n/**\r\n * @example\r\n * <custom-app-layout>\r\n *   <header slot=\"header\" fixed></header>\r\n *   <section slot=\"content\"></section> // appears under the header\r\n * </custom-app-layout>\r\n * @extends LitMixin, PropertyMixin, HTMLElement\r\n */\r\nclass CustomAppLayout extends LitMixin(PropertyMixin(HTMLElement)) {\r\n  /**\r\n   * @param {object} options contains properties, observers, listeners, etc...\r\n   */\r\n  constructor(options = {properties: {}}) {\r\n    const properties = {\r\n      firstRender: {value: true, renderer: 'render'},\r\n      headerMarginTop: {value: '', renderer: 'render'},\r\n      headerPaddingTop: {value: '', renderer: 'render'}\r\n    }\r\n    Object.assign(options.properties, properties); // merge properties\r\n\r\n    super(options);\r\n  }\r\n  // iterate trough slots untill no slot is found\r\n  slotted(slot) {\r\n    slot = slot.assignedNodes()\r\n    if (slot[0].localName === 'slot') {\r\n      return this.slotted(slot[0]);\r\n    } else {\r\n      for (const node of slot) {\r\n        if (node.nodeType === 1) {\r\n          return node\r\n        }\r\n      }\r\n    }\r\n    return slot;\r\n  }\r\n\r\n  get content() {\r\n    return this.slotted(this.shadowRoot.querySelector('slot[name=\"content\"]'));\r\n  }\r\n\r\n  get header() {\r\n    return this.slotted(this.shadowRoot.querySelector('slot[name=\"header\"]'));\r\n  }\r\n\r\n  get container() {\r\n    return this.shadowRoot.querySelector('.content-container');\r\n  }\r\n\r\n  render() {\r\n    if (this.firstRender === false) { // do nothing on firstRender\r\n      const header = this.header;\r\n      const headerHeight = header.offsetHeight;\r\n      if (header.hasAttribute('fixed') && !header.hasAttribute('condenses')) {\r\n        // If the header size does not change and we're using a scrolling region, exclude\r\n        // the header area from the scrolling region so that the header doesn't overlap\r\n        // the scrollbar.\r\n        requestAnimationFrame(() => {\r\n          this.headerMarginTop = headerHeight + 'px';\r\n          this.headerPaddingTop = '';\r\n        });\r\n      } else {\r\n        requestAnimationFrame(() => {\r\n          this.headerPaddingTop = headerHeight + 'px';\r\n          this.headerMarginTop = '';\r\n        });\r\n      }\r\n    } else {\r\n      this.firstRender = false;\r\n    }\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n          position: relative;\r\n          height: 100%;\r\n          z-index: 0;\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n        :host([fullbleed]) {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n        }\r\n        ::slotted([slot=\"header\"]) {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          z-index: 1;\r\n        }\r\n        .content-container {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          flex: 1;\r\n          flex-direction: column;\r\n          z-index: 0;\r\n          overflow-y: auto;\r\n          -webkit-overflow-scrolling: touch;\r\n        }\r\n      </style>\r\n      <slot name=\"header\"></slot>\r\n      <span class=\"content-container\" style=\"margin-top: ${this.headerMarginTop}; padding-top: ${this.headerPaddingTop};\">\r\n        <slot name=\"content\"></slot>\r\n      </span>\r\n    `;\r\n  }\r\n};\r\n\r\nexport default customElements.define('custom-app-layout', CustomAppLayout);\r\n"],"names":["html","e","t","s","templates","get","Template","set","TemplateResult","render","__templateInstance","template","TemplateInstance","update","values","n","_clone","firstChild","removeChild","appendChild","Map","exprMarker","TemplatePart","r","type","index","name","rawName","strings","parts","_strings","_parse","element","document","createElement","innerHTML","_getTemplateHtml","createTreeWalker","content","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","nextNode","i","currentNode","nodeType","Node","ELEMENT_NODE","attributes","length","item","o","value","split","substring","match","push","TEXT_NODE","nodeValue","Text","parentNode","insertBefore","trim","ownerElement","removeAttribute","join","Part","instance","console","error","AttributePart","assert","_getValue","Symbol","iterator","setAttribute","size","NodePart","startNode","endNode","_previousValue","_setNodeValue","_setTemplateResultValue","then","setValue","_setIterableValue","nextSibling","previousSibling","textContent","_setTextValue","clear","_insertNodeBeforeEndNode","_template","_createInstance","Array","isArray","a","next","l","done","_parts","slice","importNode","_createPart","Error","window","Backed","Renderer","litMixin","propertyStore","PropertyStore","attachShadow","mode","_isValidRenderer","shadowRoot","String","includes","propertyMixin","properties","Object","entries","observer","reflect","renderer","warn","defineProperty","strict","setAttributte","configurable","getAttribute","hasAttribute","CustomAppLayout","LitMixin","PropertyMixin","HTMLElement","options","assign","slot","assignedNodes","localName","slotted","node","querySelector","header","container","firstRender","headerHeight","offsetHeight","headerMarginTop","headerPaddingTop","customElements","define"],"mappings":"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"}